<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Gizmo App</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/animation.css">
  <link rel="stylesheet" href="styles/panel.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
</head>
<body>
<div id="ring-container">
  <div id="ring"></div>
</div>
<div id="title">Gizmo</div>
<div id="content">
  <div id="panel">
    <div class="tab-buttons">
      <button class="tab-button active" onclick="switchTab('profile')">–ü—Ä–æ—Ñ–∏–ª—å</button>
      <button class="tab-button" onclick="switchTab('shop')">–ú–∞–≥–∞–∑–∏–Ω</button>
      <button class="tab-button" onclick="window.location.href='pvp-game.html'">PVP</button>
    </div>
    
    <div id="profile" class="tab-content active">
      <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="username">–ò–≥—Ä–æ–∫</span>!</h2>
      <p>–í–∞—à Telegram: <span id="user-telegram">@username</span></p>
      <p>–í–∞—à –Ω–∏–∫: <span id="user-nickname">–ì–æ—Å—Ç—å</span></p>
      <input type="text" id="nickname-input" placeholder="–ù–æ–≤—ã–π –Ω–∏–∫">
      <button onclick="updateNickname()">–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∏–∫</button>
      <p>–í–∞—à —Å—Ç–∞—Ç—É—Å: –ù–æ–≤–∏—á–æ–∫</p>
    </div>
    
    <div id="shop" class="tab-content">
      <div class="shop-item">
        <h3>üó°Ô∏è –ú–µ—á –î—Ä–∞–∫–æ–Ω–∞</h3>
        <p style="color: #f8d56b;">100 –∑–æ–ª–æ—Ç—ã—Ö</p>
        <button class="buy-btn" data-item="dragon_sword">–ö—É–ø–∏—Ç—å</button>
      </div>
      <div class="shop-item">
        <h3>üõ°Ô∏è –©–∏—Ç –†—ã—Ü–∞—Ä—è</h3>
        <p style="color: #f8d56b;">75 –∑–æ–ª–æ—Ç—ã—Ö</p>
        <button class="buy-btn" data-item="knight_shield">–ö—É–ø–∏—Ç—å</button>
      </div>
    </div>
  </div>
</div>

<script src="scripts/main.js"></script>
<script src="scripts/animation.js"></script>
<script src="scripts/shop.js"></script>
<script>
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyC6EklCDD25kU_nuXyeh5mj9F24KECyYpM",
    databaseURL: "https://gizmo-27843-default-rtdb.firebaseio.com"
  };
  
  const app = firebase.initializeApp(firebaseConfig);
  window.db = firebase.database(app);
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
  document.querySelectorAll('.buy-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const item = this.getAttribute('data-item');
      purchaseItem(item);
    });
  });
  
  function purchaseItem(itemId) {
    // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–∫–∏
    alert(`–ü–æ–∫—É–ø–∫–∞: ${itemId}`);
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ Firebase
  }
</script>
</body>
</html>